# 2장

---

## 2.1 프로토콜 계층화

---

- 프로토콜 : 송신자, 수신자, 모든 중간 장치들이 효과적인 통신을 위해 지켜야 할 규칙
- 프로토콜 계층화 : 통신이 복잡할 때는 여러 계층을 두어 서로 다른 계층간에 임무를 나눌 수 있다.
- 시나리오
    - 두 친구가 편지로 소통하는 예
    - 우체국이 없다면 매우 불편하다.

## 2-2 TCP/IP 프로토콜

---

- 현재 인터넷에서 사용하는 모델
- 5개의 계층으로 구성된 계층 모델

![Untitled](2%E1%84%8C%E1%85%A1%E1%86%BC%201adf45d844f246c4b5bcc12e3eadb08c/Untitled.png)

### 2.2.1 계층적 구조

---

- 링크층 스위치를 가진 3개의 링크로 이루어진 인터넷
- 링크들은 하나의 라우터에 연결

![Untitled](2%E1%84%8C%E1%85%A1%E1%86%BC%201adf45d844f246c4b5bcc12e3eadb08c/Untitled%201.png)

목적지 A에서 B로 보내기 위해 헤더, 트레일러 등로 감싸 전송하는 것을 **캡슐화** 라고 하고 목적지에서 이를 해석하기 위해 **역캡슐화**를 한다.

## 2.2.2 TCP/IP 프로토콜 그룹의 계층

---

**계층간 논리적 연결**

![Untitled](2%E1%84%8C%E1%85%A1%E1%86%BC%201adf45d844f246c4b5bcc12e3eadb08c/Untitled%202.png)

계층들은 논리적으로 연결된다.

프로토콜 계층화에서 각 장치에 있는 각 계층은 동일한 객체를 가진다.

![Untitled](2%E1%84%8C%E1%85%A1%E1%86%BC%201adf45d844f246c4b5bcc12e3eadb08c/Untitled%203.png)

### 2.2.3 각 계층에 대한 설명

---

- 물리층
    - 프레임의 각 비트를 다음 링크로 전달하는 책임을 진다.
    - 전송매체를 이용한다
    - 전기 혹은 광학 신호를 전송한다
- 데이터 링크 층
    - 유/무선 링크를 통해 프레임 전달을 책임진다.
    - 상위층으로부터 데이터그램을 받아 프레임으로 캡슐화 한다.
    - 다양한 링크층 프로토콜에 따라 서로 다른 서비스를 제공한다.
- 네트워크층
    - 발신지 컴퓨터와 목적지 컴퓨터 간 연결 생성을 책임진다
    - 통신은 호스트 - 대 - 호스트 이다.
    - 가능한 경로를 통해 패킷을 라우팅하기 위한 책임을 담당한다.
    - 흐름제어, 오류제어, 혼잡제어 서비스를 제공하지 않는 비연결형의 프로토콜이다.
    - IP,ICMP,IGMP,DHCP,ARP 등의 프로토콜을 지원한다.
- 전송층
    - 논리적 연결은 종단 - 대 - 종단 이다.
    - 응용층 으로부터 메시지를 받아 전송층 패킷으로 캡슐화 하여 목적지 호스트의 전송층에 전달을 책임진다.
    - 응용층에 서비스를 제공한다
    - TCP : 연결형 프로토콜로 흐름제어, 오류제어, 혼잡제어를 제공한다
    - UDP : 비연결형 프로토콜로, 제어 서비스를 제공하지 않는다.
    - SCTP :  스트림 제어 전송 프로토콜이다.
- 응용층
    - 논리적 연결은 종단 - 대 - 종단이다.
    - 프로세스간 통신을 제공한다.
    - HTTP, SMTP, FTP, TELNET, SSH, SNMP, DNS 등을 제공한다.

### 2.2.4 캡슐화와 역캡슐화

---

캡슐화와 역캡슐화는 프로토콜 계층화에 매우 중요한 개념이다.

![Untitled](2%E1%84%8C%E1%85%A1%E1%86%BC%201adf45d844f246c4b5bcc12e3eadb08c/Untitled%204.png)

***위 그림처럼 발신지에서 보낸 패킷은 캡슐화 되어 라우터를 거쳐 목적지에서 역캡슐화 된다.***

### 2.2.5 주소지정

---

프로토콜 계층화와 관련해 발신지와 목적지 간 통신을 위해 4쌍의 주소를 사용한다.

일부 계층에서는 여러 개의 프로토콜을 사용하기 때문에 발신지에서 다중화, 목적지에서 역다중화가 필요하다.

![Untitled](2%E1%84%8C%E1%85%A1%E1%86%BC%201adf45d844f246c4b5bcc12e3eadb08c/Untitled%205.png)

## 2장 요약

TCP/IP 모델의 각 계층에서의 역할 및 프로토콜 개념 정의
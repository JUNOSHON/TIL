# 3장

---

## 3.1 데이터와 신호

---

- 데이터통신에서 두 장치간에는 데이터를 교환하지만, 물리층 통신은 **신호**를 교환한다.
- 데이터 교환에 따라 매체는 데이터를 신호로 바꾸어야 한다
- 신호는 아날로그 또는 디지털 형태이다.

### 3.1.1 아날로그와 디지털 데이터

---

- 데이터는 아날로그 또는 디지털일 수 있다.
- 아날로그 데이터는 연속적인 정보이다.
  - 예시로 사람의 목소리가 있다.
- 디지털 데이터는 이산 값을 갖는 정보이다.
  - 예시로 0과 1로 컴퓨터 기억장치에 저장되는 데이터가 있다.

### 3.1.2 아날로그와 디지털 신호

---

- 신호는 아날로그나 디지털일 수 있다.
- 아날로그신호는 연속적인 파형이다.
- 디지털 신호는 이산적이며, 1,0과 같이 제한된 수의 정의된 값 만을 가질 수 있다.

<img width="553" alt="image" src="https://user-images.githubusercontent.com/67476544/236660647-b6dc7f0f-f76b-4a5d-b98c-5886e2221751.png">

### 3.1.3 주기 신호와 비주기 신호

---

- 주기 신호
  - 주기라는 연속적으로 반복된 패턴으로 구성된다.
  - 사이클 - 하나의 완성된 패턴이다
  - 신호의 주기(T) 는 초 단위로 표현된다.
- 비주기 신호
  - 시간에 따라 반복된 패턴이나 사이클이 없이 항상 변한다
  - 신호는 반복된 패턴이 없다.

### _데이터통신에서는 흔히 주기 아날로그 신호를 사용하거나 비주기 디지털 신호를 사용한다._

## 3.2 주기 아날로그 신호

---

- 정현파는 아날로그 주기 신호의 가장 기본적인 형태이다 **(라디오에 사용된다)**
- 정현파는 최대 **_진폭, 주파수, 위상_** 의 세 가지 특성으로 나타낸다.

<img width="542" alt="image" src="https://user-images.githubusercontent.com/67476544/236660655-5635cb59-f74a-4c8f-a786-aef100433c43.png">

## ✳️최대 진폭✳️

---

- 전송하는 신호의 에너지에 비례하는 가장 큰 세기의 절댓값
- 전기 신호의 경우, 최대 진폭은 전압(v)으로 측정한다.
  - 위상과 주파수는 같지만 진폭이 서로 다른 두 신호이다.

<img width="596" alt="image" src="https://user-images.githubusercontent.com/67476544/236660657-4f09353a-55d8-403d-a793-b3faab8820f2.png">

## ⚱️주기와 주파수⚱️

---

- 주기와 주파수
  - 주기(T)
    - 하나의 사이클을 완성하는데 필요한 시간( 초 단위)
  - 주파수(f)
    - 주기의 역수 **_(1 / t) ,_** 1초 동안 생성되는 신호주기(사이클) 의 수
    - Hz로 표시

### **_주기와 주파수는 서로 역이다._**

<img width="565" alt="image" src="https://user-images.githubusercontent.com/67476544/236660662-3e500b79-1d5a-4f94-828f-1f7eb4d9daea.png">

### 진폭과 위상은 같지만 주파수가 서로 다른 신호.

<img width="549" alt="image" src="https://user-images.githubusercontent.com/67476544/236660664-afeaa5ef-19ee-4264-b5ee-fecf8b3a8a15.png">

### 예제 3.3

---

가정에서 사용하는 전기의 주파수는 **_60Hz_** 이다.

이 정현파의 주기는 아래같이 나타낼 수 있다.

<img width="560" alt="image" src="https://user-images.githubusercontent.com/67476544/236660669-83a7ab68-91a5-45da-b72d-2806e4ac72c3.png">

### 예제 3.4

---

**100 ms**의 주기를 마이크로 초로 나타내어라.

### 예제 3.5

---

신호의 주기가 100ms 이다. 이의 주파수를 kHz로 나타내면?

## 주기와 주파수

---

<aside>
💡 ***주파수는 시간에 대한 신호의 변호율이다. 
짧은 기간 내의 변화는 높은 주파수를 의미한다.
긴 기간에 걸친 변화는 낮은 주파수를 의미한다.***

</aside>

<aside>
💡 ***만약 신호가 전혀 변화하지 않으면 주파수는 0이다.
신호가 순간적으로 변하면 주파수는 무한대이다.***

</aside>

### 3.2.2 위상

---

- 시간 0 시에 대한 파형의 상대적인 위치
- 시간 축을 따라 앞뒤로 이동될 수 있는 파형에서 그 이동된 양
- 첫 사이클의 상태를 표시

<img width="585" alt="image" src="https://user-images.githubusercontent.com/67476544/236660676-6361a0a1-9687-473e-881c-a7b7bf196e88.png">

**아래는 진폭과 주파수는 같지만 위상이 서로 다른 정현파이다.**

<img width="552" alt="image" src="https://user-images.githubusercontent.com/67476544/236660679-cf596b41-75ed-4620-82e4-3960eb91ac55.png">

### 예제 3.6

---

정현파는 시간 0 의 점에서 1 / 6 사이클 만큼 편이되었다.

위상은 얼마인가?

**_Solution_**

---

하나의 완전완 원은 360도이다. 그러므로 원의 1/6 은 아래와 같다.

<img width="535" alt="image" src="https://user-images.githubusercontent.com/67476544/236660689-2677cfdf-ca69-4be5-8f2b-5204e594d660.png">

### 3.2.3 파장

---

- 단순 정현파의 주기나 주파수가 전송 매체를 통과하는 전파속도와 연관
- 단순 신호가 한 주기동안 진행할 수 있는 거리.
- 파장과 주기

<img width="143" alt="image" src="https://user-images.githubusercontent.com/67476544/236660691-2da2888f-8274-421e-a6f9-427a0ca4a76d.png">

- 파장은 전파속도와 주기가 주어지면 계산 가능하다.
- 파장을 **λ, 전파속도를 c (빛의 속도), 주파수를 f라 하면**

$$
λ = c/f
$$

이다.

**_진공에서 빛의 전파속도 3 _ 10^8 m/s , 빨간색 빛(주파수 = 4*10^14)의 파장을 계산해보자.***

### 3.2.4 시간 영역과 주파수 영역

---

- 시간 영역 도면
  - 시간에 대한 순간적인 진폭
- 주파수 영역 도면
  - 주파수에 대한 최대 진폭

<img width="573" alt="image" src="https://user-images.githubusercontent.com/67476544/236660696-ad3e61e1-efeb-4afd-9249-c159e0b68d46.png">

주파수 영역 도면의 장점은 즉각적으로 주파수와 최대 진폭을 알 수 있다.

### 3.2.5 복합신호

---

- 단일 주파수 정현파는 데이터통신에 유용하지 않다. 여러 개의 단일 정현파로 만들어진 복합 신호가 필요하다.
- 푸리에 해석에 따라 임의의 복합 신호는 서로 다른 주파수, 진폭, 위상을 갖는 단순 정현파의 조합으로 나타낼 수 있다.
- 복합 신호가 주기적이면, 이를 분해하면 이산 주파수를 갖는 정현파의 시리즈로 나뉘게 된다. 복합 신호가 비주기이면, 이를 분해하면 무한 개의 연속적인 주파수를 갖는 정현파로 나뉜다.

<img width="495" alt="image" src="https://user-images.githubusercontent.com/67476544/236660701-fe7c5594-9a5e-41ab-b767-65c7bf825053.png">

→ 주파수 f의 주기 복합 신호이다.

각기 서로 다른 주파수를 갖는 3개의 경보 신호로 볼 수 있다.

### 3.2.6 대역폭 (Bandwidth)

---

- 복합신호에 포함된 주파수의 영역
- 복합신호의 대역폭은 신호에 포함된 **최고 주파수와 최저 주파수의 차이**이다.
  - 어떤 복합 신호의 주파수가 1000부터 5000까지면, 대역폭은 4000이된다.

## 3.3 디지털 신호

---

- 정보는 디지털 신호에 의해 표현될 수 있다. 예를들어 1은 양의 전압으로 0은 0전압으로 부호화 할 수 있다.
- 디지털 신호는 두 개의 레벨보다 더 많을 수 있다. 이 경우, 각 레벨(준위)는 1비트 이상을 보낼 수 있다.

### 2개의 준위와 4개위 준위를 갖는 신호

---

<img width="475" alt="image" src="https://user-images.githubusercontent.com/67476544/236660710-bb7ba189-7a01-463e-971e-6e289bf77394.png">

각각 2개와 4개의 신호 준위를 가지는 신호다.

신호가 L개의 준위를 가진다면 각 준위는 log2L 개의 비트를 보낸다.

4개의 신호 준위를 가지는 신호의 경우 이 신호는 2개의 비트를 보낸다. **(00, 01, 11, 10 등)**

### 3.3.1 비트율

---

**비트율**

- 디지털 신호를 표현하는 데 사용
- 1초 동안 전송된 비트 수(bps)

**예제 3.18**

텍스트의 자료를 매 초 100페이지를 다운받는다고 하자. 요구되는 채널의 비트율은?

**_Solution_**

각 페이지는 줄 당 80개의 문자로 된 24개의 줄로 되어있다. → A4용지 1p양의 정보.

한 문자 당 8비트를 필요로 한다면 비트율은

<img width="526" alt="image" src="https://user-images.githubusercontent.com/67476544/236664587-e3951bdc-82e3-43d8-b2d4-d9a6c73b8747.png">

100은 초당 100페이지, 24는 line의 수, 80은 문자의 수, 8은 bit이다.

<img width="580" alt="image" src="https://user-images.githubusercontent.com/67476544/236664590-fafcbd75-09fc-48e5-bb04-acaff9f88ce1.png">

## 3.4 전송 장애

---

- 신호가 전송 매체를 통해 전송할 때 생기는 장애
- 신호가 매체의 시작과 끝에서 다름을 의미

<img width="526" alt="image" src="https://user-images.githubusercontent.com/67476544/236664593-fb599413-d0a6-45f9-aaf2-98b459569983.png">

### 3.4.1 감쇠(attenuation)

---

- 에너지 손실을 의미, 매체를 통해 이동할 때 매체의 저항을 이겨내기 위해 에너지가 손실
- 증폭기를 이용해 신호를 다시 증폭

### 데시벨 (dB) : 신호의 소실된 길이나 획득한 길이. 즉, 두 개의 다른 점에서 두 신호 또는 하나의 신호의 상대적 길이를 측정 (음수: 감쇠, 양수: 증폭)

<aside>
💡 ***dB = 10log10 P2/P1***

</aside>

**예제 3.26**

신호가 전송매체를 통해 이동하고 있고 전력이 절반으로 줄었다고 하자.

이것은 P2는 0.5P1 임을 의미하고, 감쇠는 아래와 같이 계산할 수 있다.

<img width="526" alt="image" src="https://user-images.githubusercontent.com/67476544/236664600-d2d4becb-4c2e-4b65-9838-8d99a5e2f485.png">

**-3dB 이므로 전력의 절반을 손실한 것과 같다.**

### 3.4.2 일그러짐 (distortion)

---

- 신호의 모양이나 형태가 변하는 것을 의미하며, 반대되는 신호나 다른 주파수 신호로 만든다.
- 각 신호 요소는 매체를 통과하면서 자신만의 전파 속도를 가지며, 목적지에 도착할 때는 자신만의 지연을 갖는다. 이와 같은 지연들은 주기 기간이 동일하지 않으며 이는 위상의 차이를 야기시킨다.

<img width="508" alt="image" src="https://user-images.githubusercontent.com/67476544/236664603-a1701b43-28f5-4ff3-b871-c857e07ce3d1.png">

### 3.4.3 잡음 (noise)

---

열 잡음, 유도된 잡음, 혼선, 충격 잡음등의 여러 형태의 잡음
<img width="242" alt="image" src="https://user-images.githubusercontent.com/67476544/236664609-be09471c-3e3f-477d-97d8-eafa74d9317b.png">9003a123648447ddaeaa04efb32a576c/Untitled%2018.png)

### 신호 대 잡음 비 (SNR)

---

- SNR : signal-to-noise ratio
- 잡음과 신호 전력의 비율
- SNR은 데시벨로 표시

<img width="336" alt="image" src="https://user-images.githubusercontent.com/67476544/236664616-faa76faa-cdd4-4656-a279-0e8b79c73a74.png">

## 3.5 데이터 전송률의 한계

---

- 채널을 통해 매 초 몇 비트의 데이터를 얼마나 빨리 전송할 수 있는가?
- 데이터 전송률을 좌우하는 세 요소
  - 가용 대역폭
  - 사용 가능한 신호 준우
  - 채널의 품질(잡음의 정도)
- 데이터 전송률을 계산하는 두 가지 이론적 수식
  - 나이퀴스트 수식 : 잡음이 없는 채널에서 사용
  - 섀넌 수식 : 잡음이 있는 채널에서 사용

### 3.5.1 무잡음 채널 : 나이퀴스트 비트율

---

- 나이퀴스트 전송률
  - 잡음이 없는 채널의 경우 이론적인 최대 전송률을 정의
  - 대역폭은 채널의 대역폭, L은 데이터를 나타내는 데 사용한 신호준위의 개수, 전송률은 초당 비트수라고 할 때

<img width="415" alt="image" src="https://user-images.githubusercontent.com/67476544/236664621-6bc04c8c-ca49-406e-9ecd-0688b81c9603.png">

**나이퀴스트 비트율**

**예제 3.34**

- 두 개의 신호 준위를 갖는 신호를 전송하는 3,000Hz의 대역폭을 갖는 무잡음 채널이 있다. 최대 전송률은?
  - 전송률 = 2 _ 3,000 _ log2^2 \* 6,000bps = 6Mbps
- 4개의 신호 준위를 사용하는 신호를 위의 에제와 동일한 채널을 사용하면 전송률은?
  - 2 _ 3,000 _ log2 4 = 12,000bps = 12Mbps

### 3.5.2 잡음 있는 채널 : 섀넌 용량

---

- 실제 상황에서 무잡음 채널은 없음
- 잡음이 있는 채널에서의 최대 전송률을 결정하는 수식
- 대역폭은 채널의 대역폭, SNR은 신호에 대한 잡음 비율, 용량은 bps 단위의 채널 용량이라고 하면

<img width="529" alt="image" src="https://user-images.githubusercontent.com/67476544/236664624-c54dbcd5-fa2f-4b39-9431-085dce722b75.png">

→섀넌 수식에는 신호의 준위 개수가 없다. 몇 개의 준위를 쓰던 채널 전송 한계 이상의 전송률을 달성할 수 없기 때문이다.

## 3.6 성능

---

- 네트워킹에서 중요한 이슈 중 하나는 네트워크의 성능이다. 뒤에서 필요한 용어들을 알아보자.
  - Bandwidth
  - Throughput
  - Latency
  - Bandwidth-Delay Product

### 3.6.1 대역폭

---

- 헤르츠 단위 대역폭 (아날로그 대역폭)
  - 헤르츠 단위의 대역폭은 복합 신호의 주파수 영역이나 채널이 통과시킬 수 있는 주파수 영역을 말한다.
- 비트율 단위 대역폭 (디지털 대역폭)
  - 비트율 단위의 대역폭은 채널 또는 링크의 비트 전송 속도를 의미한다.

### 3.6.2 처리율 (throughput)

---

**_어떤 지점을 데이터가 얼마나 빨리 지나가는가를 측정_**

<img width="527" alt="image" src="https://user-images.githubusercontent.com/67476544/236664631-982f2218-4aa2-403b-9e93-6abbe5acbddf.png">
### 예제 3.44

---

10Mbps의 대역폭을 갖는 네트워크가 매분 평균 10,000 비트로 되어있는 12,000개의 프레임만을 통과시킨다. 이 네트워크의 처리율은 얼마인가?

**_Solution_**

<img width="521" alt="image" src="https://user-images.githubusercontent.com/67476544/236664636-4befec05-c3d7-484b-b66e-b50a1e6efe05.png">

### 3.6.3 지연(delay, latency)

---

- 발신지에서 첫 번재 비트를 보낸 시간부터 전체 메시지가 목적지에 도착할 때 까지 걸린 시간

**Latency = propagation time + transmission time + queuing Time + processing delay**

- 전파시간(propagation time)
  - 비트가 발신지에서 목적지까지 이동하는데 거릴는 시간
  - **_전파시간 = 거리 / 전파 속도_**
  - 진공에서 빛의 전파 속도 = 3 \* 10^8 m/s
- 전송시간 (transmission time)
  - 메시지를 전송하는데 걸리는 시간
  - 메시지 크기와 채널의 대역폭에 좌우
  - **_전송시간 = 메시지 크기 / 대역폭_**

### 예제 3.45

---

두 지점 간 거리가 12,000 km 라면 전파 시간은 얼마인가? 전파 속도는 케이블 속에서 2.4 \* 10^8 m/s 라고 가정한다.

전파시간을 아래와 같이 계산할 수 있다.

<img width="544" alt="image" src="https://user-images.githubusercontent.com/67476544/236664644-2b406367-b802-4af6-8052-88871e04d490.png">

### 예제 3.46

---

네트워크의 대역폭이 1 Gbps 이면 2.5 킬로바이트 메시지의 전파 시간과 전송 시간을 얼마인가?

송신자와 수신자의 거리는 12,000 km이고 전파 속도는 2.4 \* 10^8 m/s 이다.

아래와 같이 전파 시간과 전송 시간을 계산할 수 있다.

<img width="567" alt="image" src="https://user-images.githubusercontent.com/67476544/236664647-ef4a4dea-5a20-4edb-9e63-f7a536aff242.png">

→ 이 경우, 메시지가 매우 크고 대역폭이 높지 않으므로 주요 요소는 전송시간이다. 전파시간은 중요하지 않으므로 전파 시간을 무시될 수 있다.

### 3.6.4 대역폭 - 지연 곱

---

**대역폭 - 지연 곱의 개념**

- 링크를 두 지점을 연결하는 파이프로 생각
- 파이프 단면 : 대역폭
- 파이프 길이 : 지연

<img width="551" alt="image" src="https://user-images.githubusercontent.com/67476544/236664799-6dad98e9-0e7f-49b4-9d94-6b38ce475092.png">

### 3.6.5 파형 난조

---

- 파형 난조 (jitter)
  - 지연과 관련된 다른 성능으로 파형 난조가 있음.
  - 서로 다른 데이터 패킷이 서로 다른 지연 시간을 갖게 되어 생기는 현상으로 수신자 쪽의 음성이나 화상처럼 시간에 민감한 응용 시스템이 겪는 문제
  - 첫 번재 지연 20ms, 두 번재 지연 45ms, 세 번째 지연 40ms 인 패킷을 사용하는 실시간 응용은 파형 난조 발생

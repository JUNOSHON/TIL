# 2. 중요한 개념 정리

Goal: 웹 개발 중요 포인트
Note: 강의 끝나고 이 부분 다시 복습하자 🔖
Status: Active 🔥

### What is Next.JS?

---

> **_웹을 위한 React 프레임워크_**

위 인용문에서 알 수 있듯이 Next.JS 는 “프레임워크” 이다.

반대로 React는 “라이브러리” 이다.

![image](https://github.com/JUNOSHON/TIL/assets/67476544/af1e9ba2-cea1-466f-8270-5f535e5d5a2e)

라이브러리는 개발자의 자유도가 높다.

UI, 상태관리, 라우팅 등 개발 시 라이브러리에서 제공하는 도구들을 원하는대로 자유롭게 사용할 수 있다.

반대로 프레임워크는 틀이 짜여져 있다.

개발자는 프레임 워크에서 제공해주는 솔루션을 따라가며 개발해야 한다.

Next 는 React 보다 더 다양한 기능을 제공한다.

- 풀 스택 개발
- 파일 기반 라우팅
- 검색 엔진, 이미지, 폰트 최적화
- 서버 사이드 렌더링 (하이브리드 렌더링)

위 같이 React 만으로는 힘든 여러 기능을 제공해주는 프레임워크이다.

### CSR

---

Client Side Rendering 의 약자로, 웹 페이지를 렌더링 하는 주체가 클라이언트(브라우저) 라는 뜻이다.

![image](https://github.com/JUNOSHON/TIL/assets/67476544/d4b3ff8d-6855-4f9a-995e-aba53659ef5e)

위 그림처럼 클라이언트가 서버에 요청을 보내면, 서버는 HTML 파일과 JS 파일을 다운로드 받는다.

이렇게 받아온 HTML과 JS 파일을 이용해 DOM 을 구성하고, 이 DOM 형식대로 브라우저가 렌더링 과정을 거쳐 사용자에게 화면을 보여준다.

**CSR 장점**

---

- 한번 로딩 되면, 빠른 UX 를 제공한다.
  - 페이지에 필요한 모든 HTML과 JS 파일을 다운받은 후 렌더링 하므로, 파일을 다운받고 렌더링 되기만 한다면 사용자는 빠르게 서비스를 이용할 수 있다.
  - 처음 응답을 줄 때 모든 파일을 다운받으므로, 렌더링을 위한 요청을 서버에서는 한번만 처리하면 된다. 따라서 서버의 부하가 적다.

**CSR 단점**

---

- 페이지 로딩 시간이 길다
  - HTML 과 모든 JS파일을 한번에 다운받고, 이를 토대로 DOM 을 그리고 페인팅 하는 과정을 거치니 최초 페이지 로딩 시간이 길다.
- JS 활성화가 필수이다.
  - CSR에서 서버에 요청해서 받아오는 index.html은 root id를 가지는 div 태그 하나 뿐이다. 이를 React에서 JS 로 조작해 DOM을 변경하는 것이다.
  - 만약 모종의 이유로 JS를 사용할 수 없다면, 사용자는 빈 HTML 파일밖에 볼 수 없다.
- SEO 최적화가 힘들다.
  - 웹 크롤러가 서비스를 파악하기 힘들다.
- 보안에 취약하다
  - 클라이언트에 모든 코드를 다운받아 실행하므로, 서버와 소통하는과정이 모두 클라이언트에 드러나므로 보안에 취약하다.
- CDN에 캐시되지 않는다.
  - HTML은 비어있고, JS로 내용을 보여주기 때문에 HTML을 CDN 에 캐시하기 힘들다.

위 같은 CSR의 문제를 해결하기 위해 나온 렌더링 방식이 SSG, ISR 이다.

### SSG

---

**S**tatic **S**ite **G**eneration 의 약자로, 렌더링을 하는 주체가 서버이다.

SSG의 중요한 점은, **빌드를 할 때 렌더링** 한다는 것이다.

Static Site 라는 단어 뜻 처럼, 정적 웹사이트를 만드는 것이다.

**SSG 장점**

---

- 페이지 로딩 시간이 빠르다.
  - 서버에서 다 만들어져서 다운로드 받기만 하면 되므로, 페이지 로딩 시간이 빠르다.
- JS 가 필요 없다.
  - 이미 서버에서 JS로 DOM을 만든 뒤에 다운로드 하는것이므로, JS가 없어도 사용자는 화면을 볼 수 있다.
- SEO 최적화가 좋음
  - 2번째 장점과 마찬가지로, HTML 파일에 태그가 다 생성되어 나오므로 크롤러가 페이지를 확인하기 쉽다.
- 보안이 뛰어나다.
  - 서버와 통신하는 코드를 클라이언트가 가지고 있지 않아도 되므로, 보안이 뛰어나다.

**SSG 단점**

---

- 데이터가 정적임
  - 정적인 웹사이트에는 적합할 수 있지만, 동적인 웹사이트에는 적합하지 않다.
- 사용자 별 정보 제공이 어렵다.
  - 빌드할 때 렌더링 하므로, 각 사용자에 따라 다른 화면을 보여주기 어렵다.

### ISR

---

**I**ncremental **S**tatic **R**egeneration 의 약자로, 렌더링 하는 주체는 SSG와 서버이고 **주기적으로 렌더링 한다**는 특징이 있다.

기존에 지정해놓은 시간이 지나면 주기적으로 다시 렌더링 한다.

**ISR 장점**

- SSG의 장점을 모두 가지고 있다.
- 데이터가 주기적으로 업데이트 된다.

**ISR의 단점**

- 실시간 데이터가 아님
- 사용자 별 정보 제공이 어렵다.

### **SSR**

---

**S**erver **S**ide **R**endering 의 약자로, 렌더링 주체는 SSG,ISR과 마찬가지로 서버이지만, 렌더링 하는 시점이 요청이 들어왔을 때 이다.

![image](https://github.com/JUNOSHON/TIL/assets/67476544/53dcc3ab-a8b1-4ba7-a9dd-a8b44269235f)

**SSR 장점**

---

- 페이지 로딩 시간이 빠름
- JS가 필요 없음
- SEO 가 뛰어남
- 보안이 뛰어남
- 실시간 데이터를 사용
- 사용자 별 필요한 데이터를 사용함

**SSR 단점**

---

- 서버의 부하가 큼
- 비교적 느릴 수 있음
- CDN에 캐시가 안됨

### **Hybrid** Web App

---

성능 좋은 Web App 을 만들기 위해 두개 이상의 기능을 결합한 방식이다.

Next.JS 를 사용함으로써 원하는 페이지에 원하는 렌더링 방식을 사용할 수 있다.

### Hydration

---

Hydration 은 직역하면 수화시키다, 즉 물로 가득 채우다 라는 뜻이다.

정적인 HTML 파일을 React로 가득 채운다는 의미이다.

서버에서는 사용자가 볼 수 있는 의미있는 정적 HTML 페이지를 구성해서 보여준다.

즉 Next가 정적인 HTML을 사용자에게 먼저 보내주고, 이후 JS 코드를 다운받아 **React 컴포넌트를 렌더링 한다.**

이를 Hydration 한다고 한다.

정리하면 처음에는 사용자가 볼 수 있는 정적인 UI 페이지 먼저 보여주고, 이후 실제로 쓸 수 있는 React 컴포넌트를 렌더링 한다.

정적 UI 페이지를 React 컴포넌트로 Hydration 시키는 시간을 줄이는게 중요하다.
